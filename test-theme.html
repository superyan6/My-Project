<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Test</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .test-box {
            padding: 20px;
            margin: 20px;
            border: 2px solid var(--border-color);
        }
        .theme-info {
            font-family: monospace;
            white-space: pre;
        }
    </style>
</head>
<body>
    <h1>Theme Test</h1>
    
    <div class="test-box">
        <h2>Current Theme Information</h2>
        <div class="theme-info" id="theme-info"></div>
    </div>
    
    <div class="test-box" style="background-color: var(--primary-color); color: white;">
        <h3>Primary Color: var(--primary-color)</h3>
    </div>
    
    <div class="test-box" style="background-color: var(--background-primary);">
        <h3>Background Color: var(--background-primary)</h3>
    </div>
    
    <script>
        // 清除本地存储
        localStorage.removeItem('theme');
        localStorage.removeItem('myMusicVaultTheme');
        
        // 移除所有可能的主题类
        document.body.classList.remove('dark-theme');
        document.body.classList.remove('dark-mode');
        document.body.classList.remove('light-theme');
        
        // 获取计算样式
        const style = getComputedStyle(document.documentElement);
        const primaryColor = style.getPropertyValue('--primary-color').trim();
        const bgColor = style.getPropertyValue('--background-primary').trim();
        const hasDarkTheme = document.body.classList.contains('dark-theme');
        const localTheme = localStorage.getItem('theme');
        
        // 显示诊断信息
        const info = `
Body classes: ${document.body.className}
LocalStorage theme: ${localTheme || 'null'}
CSS Variables:
  --primary-color: ${primaryColor}
  --background-primary: ${bgColor}
  --text-primary: ${style.getPropertyValue('--text-primary').trim()}
        `;
        document.getElementById('theme-info').textContent = info;
        
        console.log('Theme test diagnostics:', info);
    </script>
</body>
</html>